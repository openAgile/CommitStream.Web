var assert = require('assert'),
    eventStoreEvnironment = require('./eventStoreEnvironment.js');

describe('projection to partitioner', function () {
    var sampleData = require('./sampleData');
    setEvents(sampleData.toBePartitioned);
    var partitioner = require('../../projections/partitionate-with-or-without-mention.js');
    it('should have 2 events for the stream mention-with ', function (done) {
        assert.equal(getStream('mention-with').length, 2);
        done();
    });
    it('should have  1 events for the stream mention-without', function (done) {
        assert.equal(getStream('mention-without').length, 1);
        done();
    });
    it('should have 3 events corrupted for the error stream', function (done) {
        assert.equal(getStream('github-events-error').length, 3);
        done();
    });       
});