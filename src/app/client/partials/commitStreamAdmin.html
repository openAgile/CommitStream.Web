<style>
/* Modal Bootstrap Extracted Styles */
	.modal-open{overflow:hidden}.modal
	{display:none;overflow:hidden;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;-webkit-overflow-scrolling:touch;outline:0}
	.modal.fade .modal-dialog{-webkit-transform:translate(0, -25%);-ms-transform:translate(0, -25%);-o-transform:translate(0, -25%);transform:translate(0, -25%);-webkit-transition:-webkit-transform 0.3s ease-out;-o-transition:-o-transform 0.3s ease-out;transition:transform 0.3s ease-out}
	.modal.in .modal-dialog{-webkit-transform:translate(0, 0);-ms-transform:translate(0, 0);-o-transform:translate(0, 0);transform:translate(0, 0)}
	.modal-open .modal{overflow-x:hidden;overflow-y:auto}
	.modal-dialog{position:relative;width:auto;margin:10px}
	.modal-content{position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,0.2);border-radius:6px;-webkit-box-shadow:0 3px 9px rgba(0,0,0,0.5);box-shadow:0 3px 9px rgba(0,0,0,0.5);-webkit-background-clip:padding-box;background-clip:padding-box;outline:0}
	.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}
	.modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}
	.modal-backdrop.in{opacity:.5;filter:alpha(opacity=50)}
	.modal-header{padding:15px;border-bottom:1px solid #e5e5e5;min-height:16.42857143px}
	.modal-header .close{margin-top:-7px; float: right;}
	.modal-title {margin:0; float: left; font-weight: 300; font-size: 1.714em; letter-spacing: -0.025em;}
	.modal-body{position:relative;padding:15px}
	.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}
	.modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}
	.modal-footer .btn-group .btn+.btn{margin-left:-1px}
	.modal-footer .btn-block+.btn-block{margin-left:0}
	.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}
	@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto}
	.modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,0.5);box-shadow:0 5px 15px rgba(0,0,0,0.5)}
	.modal-sm{width:300px}
	}
	@media (min-width:992px) { 
		.modal-lg {width:900px}
	}
  /* Repo List Table */
  .commitstream-admin .initialLoader {position: absolute; top: 50%; left: 50%;}
  .commitstream-admin .loader img {vertical-align: bottom;}
  .commitstream-admin .repos-list {margin-top: 2em;}
  .commitstream-admin .repos-list table {background-color: #fff; border: 0 !important;}
  .commitstream-admin .repos-list .table-bordered>thead>tr>th, .commitstream-admin .table-bordered>tbody>tr>th, .commitstream-admin .table-bordered>tfoot>tr>th, .commitstream-admin .table-bordered>thead>tr>td, .commitstream-admin .table-bordered>tbody>tr>td, .commitstream-admin .table-bordered>tfoot>tr>td {border-left: none; border-right: none; border-bottom: none; padding: 13px;}
  .commitstream-admin .table>thead>tr>th, .commitstream-admin .table>tbody>tr>th, .commitstream-admin .table>tfoot>tr>th, .commitstream-admin .table>thead>tr>td, .commitstream-admin .table>tbody>tr>td, .commitstream-admin .table>tfoot>tr>td {text-align: left; border-top: 1px solid #dde2e9 !important; border-width: 1px 0; border-color: transparent transparent #dde2e9;}
  .commitstream-admin .repos-list .table-striped>tbody>tr:nth-of-type(odd) {background-color:#fff;}
  .commitstream-admin {color: #454545;}
  .commitstream-admin h1 {
  	margin-top: 1em;
    padding: 0px .5em !important;
    font-weight: 300;
    min-height: 42px;
    line-height: 42px;
    font-size: 1.714em;
    letter-spacing: -0.025em;
  	background-color: #EDF0F3;
  }
  .commitstream-admin .repos-list input {padding: .4em; width: 85%;}
  /* End Repo List Table */
  .commitstream-admin .prompt {
    position: absolute;
    top:0;
    margin: 0 auto;
    z-index: 3;
    width: 33%;
    left: 33%;
    text-align: center;
  }
  .commitstream-admin .well {
    background: #fff;
    box-shadow: none;
    padding: 15px;
  }
  .commitstream-admin .well p {
  	padding-bottom: .5em;
  }
  .commitstream-admin .vcs-link {
    font-size: 12px;
  }
  .commitstream-admin .repos-section {
    position: relative;
  }
  .commitstream-admin .repos-section .overlay {
    position: absolute;
    top: 0px;
    opacity: .6;
    z-index: 3;
    overflow: hidden;
    margin-top: 2em;
  }
  .commitstream-admin .repo-add:hover {
    color: #fff;
  }
  .commitstream-admin .repo-add, .commitstream-admin .repo-add-disabled, .commitstream-admin .repo-remove {
    border: none;
    margin-top: 0px;
    margin-left: 15px;
    width: 50px !important;
    text-transform: uppercase;
    font-weight: bolder;
    color: #fff;
    font-family: 'Proxima Nova', 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;
    -webkit-font-smoothing: antialiased;
    font-size: 12px;
    border-radius: 6px;
    height: 32px !important;
    line-height: 32px;
  }
  .commitstream-admin .repo-add {
    background: #eb6c00 !important;
  }
  .commitstream-admin .repo-remove {
    margin-left: 0;
    border: thin lightgray solid;
    color: #000;
    background: #fff !important;
    width: 115px;
    height: 32px;
    line-height: 29px;
  }
  .commitstream-admin .repo-add-disabled {
    background: lightgray !important;
  }
  .commitstream-admin .inbox {
    background: white;
  }
  .commitstream-admin .repo-instruction {
    font-size: 80%;
    margin-top: 8px;
    margin-left: 7px;
    color: #909090;
    font-style: italic;
  }
  .commitstream-admin .btn-default, .commitstream-admin .btn-primary {
    background-image: none !important;
    border: none !important;
    text-shadow: 0 0 0 transparent !important;
  }
/* Enable/Disable Admin Panel toggle */
  .commitstream-admin .toggle {height: 20px !important;}
  .commitstream-admin .toggle.btn {min-height: 0;}
  .commitstream-admin .toggle-handle {
    border-radius: 0px;
    width: 50px;
  }
  .commitstream-admin .toggle-on.btn {
  	font-weight: 600;
    padding-right:60px;
    background: #00a7e2;
  }
  .commitstream-admin .toggle-off.btn {
    padding-left:60px;
    font-weight: 600;
  }
  .commitstream-admin .validation-error {
    font-size: 80%;
    font-style: italic;
    color: red;
    font-weight: bold;
  }
  .commitstream-admin .alert-danger, .commitstream-admin .alert-success {
    font-size: 85%;
  }
  /* DO NOT prefix with .commit-stream-admin */
  .modal-footer {
    text-align: left;
  }
  .action-remove {
    font-weight: bolder !important;
    border: 1px #eb6c00 solid !important;
    background: #eb6c00 !important;
    text-transform: uppercase !important;
    text-shadow: 0 0 0 transparent !important;
  }
  .action-remove:hover {
    box-shadow: none !important;
  }
  .action-cancel {
    background-image: linear-gradient(to bottom, #fff 0, #fff 100%) !important;
    font-weight: bolder !important;
    text-transform: uppercase;
    text-shadow: 0 0 0 transparent !important;
  }
  .action-cancel:hover {
    box-shadow: none !important;
    background: white !important;
  }
  .btn-group-vertical .btn-default.selected {
    background-color: #00a9e0 !important;
    color: #fff !important;
  }
  .btn-group-vertical .btn-default {
    border: 0 !important;
    height: 40px !important;
    text-align: left !important;
    text-transform: none !important;
    font-weight: normal !important;
    background-color: #fff !important;
  }
  .btn-group-vertical .btn-default:hover {
    background-color: #006e92 !important;
    color: #fff;
  }
  .commitstream-admin .btn-default:active, .commitstream-admin .btn-default.active, .commitstream-admin .open>.dropdown-toggle.btn-default {background-color: #b7bcc4; box-shadow: none;}
  span.glyphicon {
      padding-right: 5px;
  }

  .commitstream-admin .alert-warning {
    background-color: #fcf8e3;
    border-color: #faebcc;
    color: #8a6d3b;
}
.commitstream-admin .alert-warning hr {
    border-top-color: #f7e1b5;
}
.commitstream-admin .alert-warning .alert-link {
    color: #66512c;
}

.commitstream-admin button.close {
    background: rgba(0, 0, 0, 0) none repeat scroll 0 0;
    border: 0 none;
    cursor: pointer;
    padding: 0;
}

.commitstream-admin .alert-success {
    background-color: #dff0d8;
    border-color: #d6e9c6;
    color: #3c763d;
}

.commitstream-admin .alert-success hr {
    border-top-color: #c9e2b3;
}

.commitstream-admin .alert-success .alert-link {
    color: #2b542c;
}


.commitstream-admin .close {
    color: #000;
    float: right;
    font-size: 21px;
    font-weight: 700;
    line-height: 1;
    opacity: 0.2;
    text-shadow: 0 1px 0 #fff;
}

.commitstream-admin .close:focus, .close:hover {
    color: #000;
    cursor: pointer;
    opacity: 0.5;
    text-decoration: none;
}

.commitstream-admin .alert-dismissable .close, .alert-dismissible .close {
    color: inherit;
    position: relative;
    right: -21px;
    top: -10px;
}

.commitstream-admin .alert-dismissable, .alert-dismissible {
    padding-right: 35px;
    padding-top: 15px;
    padding-bottom: 15px;
    padding-left: 15px;
    width: 500px;
}

.commitstream-admin .vcs-families button {
  border: 1px solid darkgray;
}

.commitstream-admin .vcs-families .family-selected {
  background: limegreen;
  color: white;
}

.commitstream-admin .vcs-families img {
  vertical-align: text-top;
}
</style>

<img ng-show='loading()' ng-src='{{loaderUrl}}' class='initialLoader' />

<div ng-if="messageActive()" class='message prompt'>
  <div class="alert alert-success alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <strong>{{message.value}}</strong>
  </div>
</div>

<div ng-if="errorActive()" class='error prompt'>
  <div class="alert alert-warning alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <strong>{{error.value}}</strong>
  </div>
</div>

<div ng-if='isAdminPanelVisible()'>
  <p ng-if='isInstanceMode()'>
    <input
      data-on='Enabled'
      data-off='Disabled'
      data-style='slow'
      class='form-control enabled'
      type='checkbox'
      ng-model='enabledState.enabled'
      ng-change='enabledChanged()'
      toggle-checkbox
    />
    <span class="loader" ng-show='applying()'>&nbsp;<img ng-src='{{serviceUrl}}/ajax-loader.gif' /> <em>Applying changes...</em></span>
  </p>

  <div ng-if='isDigestMode()'>
    <h3>CommitStream Panel Options</h3>
    <div aria-label="Large button group" role="group" class="btn-group-vertical btn-group">
      <button class="btn btn-default" ng-class="{selected: digestConfig.selection == 'disabled'}" type="button" ng-click="onOptionChange('disabled')"><span ng-class="radioButtonDisabled()"></span><strong>None:</strong> The panel will not display for your TeamRoom.</button>
      <button class="btn btn-default" ng-class="{selected: digestConfig.selection == 'useGlobalDigest'}" type="button" ng-click="onOptionChange('useGlobalDigest')"><span ng-class="radioButtonGlobal()"></span><strong>Global:</strong> The panel will display commit data from the global repository list created by the VersionOne administrator.</button>
      <button class="btn btn-default" ng-class="{selected: digestConfig.selection == 'useCustomDigest'}" type="button" ng-click="onOptionChange('useCustomDigest')"><span ng-class="radioButtonCustom()"></span><strong>Custom:</strong> The panel will display commit data from the repositories you configure.</button>
    </div>
  </div>  

  <div class='repos-section' ng-if='overlayVisible()'><img class="overlay" resizable-overlay ng-src='{{serviceUrl}}/disable-overlay.gif' width='100%' /></div>

  <div class='repos-list' ng-if='areRepositoriesVisible()'>
    <h1 ng-show='getInboxesDone'>{{getHeading()}}</h1>
    <div class='well well-sm' ng-if='editAllowed()'>
      <div class='vcs-families'>
        <button type='button' ng-click='familySelect("GitHub")' class='{{familyIsSelected("GitHub")}}' ng-show='familyIsVisible("GitHub")'><img ng-src='{{serviceUrl}}/icon-github-16x16.png' />&nbsp;GitHub</button>&nbsp;<button type='button' ng-show='familyIsVisible("GitLab")' ng-click='familySelect("GitLab")' class='{{familyIsSelected("GitLab")}}'><img ng-src='{{serviceUrl}}/icon-gitlab-16x16.png' />&nbsp;GitLab</button>
        
        <a class='vcs-link' ng-click="showAllVcs()" ng-hide='allVcsVisible()' target='_blank'>change VCS</a>     
      </div>
      <br />
      <form ng-submit='inboxCreate()' name='inboxesForm' ng-hide='allVcsVisible()'>
        <div class='input-group'>
          <input type='text' name='inboxUrl' class='inbox-url form-control' ng-disabled='inboxCreating' ng-model='newInbox.url' size='100' ng-pattern='urlPattern' required ng-trim='true' placeholder='Enter repository URL'>
          <span class='input-group-btn'>
            <button class='repo-add' type='button' ng-disabled='inboxCreating' ng-click='inboxCreate()' ng-hide='inboxesForm.$invalid'>Add</button>
            <button class='repo-add-disabled' type='button' ng-show='inboxesForm.$invalid'>Add</button>
          </span>
        </div>
        <div class='repo-instruction'>Example: http://versioncontrol.com/acme/repo-name</div>
      </form>
    </div>
    <div ng-if='inboxes.length > 0'>
      <h1 ng-if='editAllowed()'>Active Repositories</h1>
      <table ng-if='editAllowed()' class='table table-striped table-bordered'>
        <tr>
          <th>Repository Name</th>
          <th>Webhook URL</th>
          <th>&nbsp;</th>
        </tr>
        <tr ng-repeat-start='inbox in inboxes'>
          <td style='width: 25%'><a target='_blank' href='{{inbox.url}}'>{{inbox.name}}</a></td>
          <td>
            <input style='font-size:75%' type='text' value='{{inbox.addCommit}}' class='form-control inbox' ng-click='inboxHighlight($event)' ng-readonly='true'>
          </td>
          <td>
            <!--<span class='glyphicon glyphicon-minus-sign alert-warning' ng-click='inboxRemove(inbox)' title='Remove' aria-hidden='true'></span>-->
            <button ng-if='editAllowed()' class='create-btn' type='button' ng-click='inboxRemove(inbox)' title='Remove' aria-hidden='true'>Remove</button>
          </td>
        </tr>
        <tr ng-repeat-end ng-init='adjustOverlay()'></tr>
      </table>
      <table ng-if='!editAllowed()' class='table table-striped table-bordered'>
        <tr>
          <th>Repository Name</th>
        </tr>
        <tr ng-repeat-start='inbox in inboxes'>
          <td><a target='_blank' href='{{inbox.url}}'>{{inbox.name}}</a></td>
        </tr>
        <tr ng-repeat-end ng-init='adjustOverlay()'></tr>
      </table>
    </div>
  </div>
</div>
